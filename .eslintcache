[{"C:\\Repositorys\\Fontys S3\\groepsproject\\24eat\\src\\index.js":"1","C:\\Repositorys\\Fontys S3\\groepsproject\\24eat\\src\\reportWebVitals.js":"2","C:\\Repositorys\\Fontys S3\\groepsproject\\24eat\\src\\Pages\\App.js":"3","C:\\Repositorys\\Fontys S3\\groepsproject\\24eat\\src\\Pages\\Product.js":"4","C:\\Repositorys\\Fontys S3\\groepsproject\\24eat\\src\\Pages\\Basket.js":"5","C:\\Repositorys\\Fontys S3\\groepsproject\\24eat\\src\\Pages\\Category.js":"6","C:\\Repositorys\\Fontys S3\\groepsproject\\24eat\\src\\Pages\\Details.js":"7","C:\\Repositorys\\Fontys S3\\groepsproject\\24eat\\src\\Components\\Main\\HeaderBar.js":"8","C:\\Repositorys\\Fontys S3\\groepsproject\\24eat\\src\\ApiService\\useFetch.js":"9","C:\\Repositorys\\Fontys S3\\groepsproject\\24eat\\src\\Components\\Dish\\ProductList.js":"10","C:\\Repositorys\\Fontys S3\\groepsproject\\24eat\\src\\Components\\Dish\\ProductDetail.js":"11","C:\\Repositorys\\Fontys S3\\groepsproject\\24eat\\src\\Components\\Category\\CategoryCard.js":"12","C:\\Repositorys\\Fontys S3\\groepsproject\\24eat\\src\\Components\\BasketComponents\\Basketlist.js":"13","C:\\Repositorys\\Fontys S3\\groepsproject\\24eat\\src\\Components\\QR-code\\TableNr.js":"14","C:\\Repositorys\\Fontys S3\\groepsproject\\24eat\\src\\Components\\BasketComponents\\Item.js":"15","C:\\Repositorys\\Fontys S3\\groepsproject\\24eat\\src\\Components\\QR-code\\TableCheckAPIService.js":"16"},{"size":932,"mtime":1642409733936,"results":"17","hashOfConfig":"18"},{"size":375,"mtime":1634046026702,"results":"19","hashOfConfig":"18"},{"size":3124,"mtime":1641895929373,"results":"20","hashOfConfig":"18"},{"size":857,"mtime":1641895929410,"results":"21","hashOfConfig":"18"},{"size":1663,"mtime":1641895929403,"results":"22","hashOfConfig":"18"},{"size":576,"mtime":1641895929405,"results":"23","hashOfConfig":"18"},{"size":703,"mtime":1641895929407,"results":"24","hashOfConfig":"18"},{"size":934,"mtime":1641895929298,"results":"25","hashOfConfig":"18"},{"size":831,"mtime":1634046650524,"results":"26","hashOfConfig":"18"},{"size":2827,"mtime":1642414241241,"results":"27","hashOfConfig":"18"},{"size":2759,"mtime":1641895929066,"results":"28","hashOfConfig":"18"},{"size":1496,"mtime":1642414191128,"results":"29","hashOfConfig":"18"},{"size":3588,"mtime":1642409733934,"results":"30","hashOfConfig":"18"},{"size":604,"mtime":1641895929370,"results":"31","hashOfConfig":"18"},{"size":1436,"mtime":1639474181189,"results":"32","hashOfConfig":"18"},{"size":1061,"mtime":1641895929368,"results":"33","hashOfConfig":"18"},{"filePath":"34","messages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},"19ytc8p",{"filePath":"37","messages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"39","messages":"40","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"41","messages":"42","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"43","messages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"45","messages":"46","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"47","messages":"48","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"49","messages":"50","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"51","messages":"52","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"53","messages":"54","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"55","messages":"56","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"57","messages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"59","messages":"60","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"61","usedDeprecatedRules":"36"},{"filePath":"62","messages":"63","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"64","messages":"65","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"66","messages":"67","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},"C:\\Repositorys\\Fontys S3\\groepsproject\\24eat\\src\\index.js",[],["68","69"],"C:\\Repositorys\\Fontys S3\\groepsproject\\24eat\\src\\reportWebVitals.js",[],"C:\\Repositorys\\Fontys S3\\groepsproject\\24eat\\src\\Pages\\App.js",[],"C:\\Repositorys\\Fontys S3\\groepsproject\\24eat\\src\\Pages\\Product.js",[],"C:\\Repositorys\\Fontys S3\\groepsproject\\24eat\\src\\Pages\\Basket.js",[],"C:\\Repositorys\\Fontys S3\\groepsproject\\24eat\\src\\Pages\\Category.js",[],"C:\\Repositorys\\Fontys S3\\groepsproject\\24eat\\src\\Pages\\Details.js",[],"C:\\Repositorys\\Fontys S3\\groepsproject\\24eat\\src\\Components\\Main\\HeaderBar.js",[],"C:\\Repositorys\\Fontys S3\\groepsproject\\24eat\\src\\ApiService\\useFetch.js",[],"C:\\Repositorys\\Fontys S3\\groepsproject\\24eat\\src\\Components\\Dish\\ProductList.js",[],"C:\\Repositorys\\Fontys S3\\groepsproject\\24eat\\src\\Components\\Dish\\ProductDetail.js",[],"C:\\Repositorys\\Fontys S3\\groepsproject\\24eat\\src\\Components\\Category\\CategoryCard.js",[],"C:\\Repositorys\\Fontys S3\\groepsproject\\24eat\\src\\Components\\BasketComponents\\Basketlist.js",["70"],"import React from 'react'\r\nimport { useEffect} from 'react'\r\nimport Item from './Item'\r\nimport { Button, ListItem, List, ListItemText } from '@mui/material';\r\nimport { w3cwebsocket as W3CWebSocket } from 'websocket';\r\nimport axios from 'axios';\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\n\r\nvar ws = new W3CWebSocket('ws://websocket-server-mediaan.herokuapp.com');\r\n\r\nexport default function Basketlist({items, removeItem, addToBasket, removeItemOne, clearItems, handleSnackbarOpen}) {\r\n    \r\n    const { getAccessTokenSilently } = useAuth0();\r\n    const apiUrl = \"https://db01-4-menuservice.herokuapp.com/api\";\r\n    const tableNr = localStorage.getItem(\"TableNr\");\r\n\r\n    function wsConnect(msg) {\r\n        setTimeout(\r\n            function () {\r\n                if (ws.readyState === WebSocket.OPEN) {\r\n                    console.log('new ws connected')\r\n                    sendMsg(msg)\r\n                    return;\r\n                } else {\r\n                    if(ws.readyState !== WebSocket.CONNECTING)\r\n                    ws = new W3CWebSocket('ws://websocket-server-mediaan.herokuapp.com');\r\n\r\n                    console.log(\"wait for connection...\")\r\n                    wsConnect();\r\n                }\r\n    \r\n            }, 5);\r\n    }\r\n\r\n    function sendMsg(msg) {\r\n        ws.send(JSON.stringify(msg));\r\n        handleSnackbarOpen()\r\n        clearItems()\r\n    }\r\n\r\n    const Order = async (dishes) => {\r\n\r\n        const emptyOrder = {\r\n            tableId: tableNr? tableNr : 0,\r\n            status: 0\r\n        }\r\n        console.log(emptyOrder);\r\n        \r\n        axios\r\n        .post(`${apiUrl}/public/orders`, emptyOrder)\r\n        .then((response) => {\r\n            console.log(response);\r\n            var orderId = response.data.id;\r\n            dishes.forEach(dish => {\r\n                dish[\"orderId\"] = orderId;\r\n            });\r\n            axios\r\n            .post(`${apiUrl}/public/orderitems`, dishes)\r\n            .then(() => {\r\n                console.log(JSON.stringify(orderId));\r\n                wsConnect(orderId)\r\n                const billItem = {\r\n                    bill_id: 1,\r\n                    order_id: orderId\r\n                }\r\n                Bill(billItem)\r\n            })\r\n        })\r\n        .catch(function () {\r\n        });\r\n    }\r\n\r\n    const Bill = async (billItem) => {\r\n        console.log(\"test\")\r\n        const token = await getAccessTokenSilently();\r\n        axios\r\n          .post(`${apiUrl}/private/billItem/post`, billItem, {\r\n            headers: {\r\n              Authorization: `Bearer ${token}`,\r\n            },\r\n          })\r\n          .then(function (response) {\r\n              console.log(response.data)\r\n          })\r\n          .catch(function (error) {});\r\n      };\r\n\r\n\r\n    const BasketItems = () => {\r\n\r\n        var totalPrice = 0;\r\n\r\n        return (\r\n            <List sx={{ width: '100%', bgcolor: 'background.paper' }}>\r\n                {items.map(item => {\r\n                    totalPrice += item.price * item.quantity;\r\n                   return (\r\n                    <Item key={item.productId} removeItem={removeItem} addToBasket={addToBasket} removeItemOne={removeItemOne} item={item}/>\r\n                   );\r\n                })}\r\n            <ListItem\r\n                secondaryAction={\r\n                    <Button edge=\"start\" variant=\"outlined\" onClick= {() => Order(items)} >order</Button>   \r\n                }\r\n            >\r\n                <ListItemText primary={\"Total: â‚¬\" + totalPrice} />\r\n            </ListItem>\r\n            </List>\r\n        )\r\n    }\r\n\r\n    return <BasketItems/>;\r\n}\r\n","C:\\Repositorys\\Fontys S3\\groepsproject\\24eat\\src\\Components\\QR-code\\TableNr.js",[],"C:\\Repositorys\\Fontys S3\\groepsproject\\24eat\\src\\Components\\BasketComponents\\Item.js",[],"C:\\Repositorys\\Fontys S3\\groepsproject\\24eat\\src\\Components\\QR-code\\TableCheckAPIService.js",[],{"ruleId":"71","replacedBy":"72"},{"ruleId":"73","replacedBy":"74"},{"ruleId":"75","severity":1,"message":"76","line":2,"column":10,"nodeType":"77","messageId":"78","endLine":2,"endColumn":19},"no-native-reassign",["79"],"no-negated-in-lhs",["80"],"no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","no-global-assign","no-unsafe-negation"]